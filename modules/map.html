<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数字中国行 · 方寸屏间</title>

    <!-- 引入样式 -->
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/home.css">
    <link rel="stylesheet" href="map.css">

    <!-- 引入ECharts地图库 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <!-- 引入本地地图数据 -->
    <script src="../assets/map/china.js"></script>
    <!-- 调试脚本 - 验证数据是否加载 -->
    <script>
        console.log('=== 加载检查 ===');
        console.log('ECharts:', typeof echarts);
        console.log('CHINA_MAP_DATA:', typeof window.CHINA_MAP_DATA);
        if (window.CHINA_MAP_DATA) {
            console.log('地图数据包含:', Object.keys(window.CHINA_MAP_DATA));
            console.log('features数量:', window.CHINA_MAP_DATA.features ? window.CHINA_MAP_DATA.features.length : 0);
        }
        console.log('=================');
    </script>
</head>
<body>

    <!-- ========== Header 导航栏 ========== -->
    <header id="header">
        <nav>
            <!-- LOGO 区域 -->
            <div class="logo">
                <img src="../assets/images/logo.png" alt="方寸屏间 · 万里河山 LOGO">
                <span>览山·LANSHAN</span>
            </div>

            <!-- 导航菜单 -->
            <ul class="nav-menu">
                <li><a href="../index.html#hero">首页</a></li>
                <li><a href="../index.html#news">新闻</a></li>
                <li><a href="map.html" class="active">数字中国行</a></li>
                <li><a href="about.html">About us</a></li>
            </ul>
        </nav>
    </header>

    <!-- ========== 地图主容器 ========== -->
    <main id="map-page">
        <div class="hero-title-section" style="
            position: relative;
            width: 100%;
            min-height: 45vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-bottom: 60px;
        ">
            <h1 class="main-title flow-title" style="
                font-size: 72px;
                font-weight: 700;
                font-family: '香萃打字机体 W35', sans-serif;
                color: var(--text-dark);
                margin-bottom: 30px;
                text-align: center;
                letter-spacing: 8px;
                background: linear-gradient(135deg, var(--text-dark) 0%, var(--primary-color) 100%);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                text-shadow: 0 4px 20px rgba(27, 63, 74, 0.15);
                animation: titleFloat 4s ease-in-out infinite;
            ">数字中国行</h1>

            <!-- 模式切换按钮 -->
            <div class="mode-selector" style="
                display: flex;
                gap: 20px;
                background: rgba(255, 255, 255, 0.9);
                padding: 12px;
                border-radius: 50px;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
                backdrop-filter: blur(10px);
            ">
                <button class="mode-tab active" data-mode="virtual" style="
                    padding: 16px 48px;
                    font-size: 18px;
                    font-weight: 600;
                    color: #2C3E50;
                    background: #A9A9A9;
                    border: none;
                    border-radius: 50px;
                    cursor: pointer;
                    transition: all 0.4s ease;
                    letter-spacing: 2px;
                ">虚拟中国</button>
                <button class="mode-tab" data-mode="guardian" style="
                    padding: 16px 48px;
                    font-size: 18px;
                    font-weight: 600;
                    color: #2C3E50;
                    background: #D3D3D3;
                    border: none;
                    border-radius: 50px;
                    cursor: pointer;
                    transition: all 0.4s ease;
                    letter-spacing: 2px;
                ">智慧守护</button>
            </div>
            <style>
                .mode-selector .mode-tab:hover {
                    background: #C0C0C0 !important;
                }
                .mode-selector .mode-tab.active {
                    background: #A9A9A9 !important;
                    color: #2C3E50 !important;
                }
            </style>
        </div>

        <div class="map-container" style="
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 40px;
            align-items: start;
        ">
            <!-- 左侧地图区域 -->
            <div class="map-section" style="
                background: var(--white);
                border-radius: var(--border-radius-large);
                padding: 50px;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            ">
                <p class="section-subtitle" style="
                    font-size: 18px;
                    color: var(--text-light);
                    text-align: center;
                    margin-bottom: 40px;
                    letter-spacing: 2px;
                ">点击地图上的省份，探索中国大地</p>

                <!-- ECharts地图容器 -->
                <div class="map-background">
                    <!-- ECharts地图主体 -->
                    <div id="china-map" style="width: 100%; height: 100%; position: absolute; top: 0; left: 0;"></div>

                    <!-- 智慧守护模式下的数据可视化按钮 -->
                    <div class="data-visualization-controls" id="data-viz-controls">
                        <button class="data-viz-btn" data-viz="forest">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                            </svg>
                            森林覆盖率
                        </button>
                        <button class="data-viz-btn" data-viz="water">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2.69L5.46 7.5 12 12.31 18.54 7.5 12 2.69z"/>
                                <path d="M12 22c4.97 0 9-3.58 9-8s-4.03-8-9-8-9 3.58-9 8 4.03 8 9 8z"/>
                            </svg>
                            水资源丰富度
                        </button>
                    </div>
                </div>
            </div>

            <!-- 右侧信息区域 -->
            <div class="info-section" style="
                position: sticky;
                top: 140px;
            ">
                <h3 class="info-title" style="
                    font-size: 32px;
                    font-weight: 700;
                    color: var(--text-dark);
                    margin-bottom: 30px;
                    padding-left: 8px;
                    letter-spacing: 2px;
                ">探索详情</h3>

                <!-- ========== 虚拟中国模式（景区介绍）========== -->
                <div class="mode-content active" id="virtual-mode">
                    <!-- 默认提示卡片 -->
                    <div class="info-card default-card active" id="default-card">
                        <div class="card-icon">🗺️</div>
                        <div class="card-title">欢迎来到数字中国行</div>
                        <div class="card-description">
                            点击地图上的省份，探索华夏大地的自然风光与历史文化。
                        </div>
                    </div>

                    <!-- 省份信息卡片容器 -->
                    <div class="attractions-container" id="attractions-container"></div>
                </div>

                <!-- ========== 智慧守护模式（数据展示）========== -->
                <div class="mode-content" id="guardian-mode">
                    <!-- 数据可视化说明 -->
                    <div class="info-card default-card active" id="guardian-default-card">
                        <div class="card-icon">📊</div>
                        <div class="card-title">智慧守护 · 数据可视化</div>
                        <div class="card-description">
                            选择下方按钮，查看各省份森林覆盖率或水资源丰富度分布情况。
                        </div>
                    </div>

                    <!-- 省份数据卡片容器 -->
                    <div class="data-cards-container" id="data-cards-container"></div>
                </div>
            </div>
        </div>

    <!-- 引入 JavaScript -->
    <script src="map.js"></script>
    <script src="../js/particles.js"></script>
</body>
</html>
